import{h as E,i as W,k as c,d as i,n as _,r as j,_ as H,j as t,e as U,o as k,p as S,q as w,L as oo,P as so,B as to}from"./index-t7f_mi8h.js";import{c as m,P as eo,u as ro,G as u,T as y,h as I}from"./homeStyles.module-C1vgrXvF.js";import{c as f,h as no,e as D,f as F,B as ao}from"./Button-IRFoPS8m.js";function lo(o){return W("MuiAlert",o)}const io=E("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),N=io;function co(o){return W("MuiIconButton",o)}const po=E("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),uo=["edge","children","className","color","disabled","disableFocusRipple","size"],go=o=>{const{classes:s,disabled:r,color:n,edge:e,size:l}=o,a={root:["root",r&&"disabled",n!=="default"&&`color${c(n)}`,e&&`edge${c(e)}`,`size${c(l)}`]};return F(a,co,s)},vo=f(no,{name:"MuiIconButton",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:r}=o;return[s.root,r.color!=="default"&&s[`color${c(r.color)}`],r.edge&&s[`edge${c(r.edge)}`],s[`size${c(r.size)}`]]}})(({theme:o,ownerState:s})=>i({textAlign:"center",flex:"0 0 auto",fontSize:o.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(o.vars||o).palette.action.active,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest})},!s.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:_(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},s.edge==="start"&&{marginLeft:s.size==="small"?-3:-12},s.edge==="end"&&{marginRight:s.size==="small"?-3:-12}),({theme:o,ownerState:s})=>{var r;const n=(r=(o.vars||o).palette)==null?void 0:r[s.color];return i({},s.color==="inherit"&&{color:"inherit"},s.color!=="inherit"&&s.color!=="default"&&i({color:n==null?void 0:n.main},!s.disableRipple&&{"&:hover":i({},n&&{backgroundColor:o.vars?`rgba(${n.mainChannel} / ${o.vars.palette.action.hoverOpacity})`:_(n.main,o.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),s.size==="small"&&{padding:5,fontSize:o.typography.pxToRem(18)},s.size==="large"&&{padding:12,fontSize:o.typography.pxToRem(28)},{[`&.${po.disabled}`]:{backgroundColor:"transparent",color:(o.vars||o).palette.action.disabled}})}),xo=j.forwardRef(function(s,r){const n=D({props:s,name:"MuiIconButton"}),{edge:e=!1,children:l,className:a,color:h="default",disabled:g=!1,disableFocusRipple:d=!1,size:v="medium"}=n,$=H(n,uo),C=i({},n,{edge:e,color:h,disabled:g,disableFocusRipple:d,size:v}),A=go(C);return t.jsx(vo,i({className:U(A.root,a),centerRipple:!0,focusRipple:!d,disabled:g,ref:r,ownerState:C},$,{children:l}))}),mo=xo,fo=m(t.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ho=m(t.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Co=m(t.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Ao=m(t.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),yo=m(t.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Io=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],jo=o=>{const{variant:s,color:r,severity:n,classes:e}=o,l={root:["root",`${s}${c(r||n)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return F(l,lo,e)},$o=f(eo,{name:"MuiAlert",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:r}=o;return[s.root,s[r.variant],s[`${r.variant}${c(r.color||r.severity)}`]]}})(({theme:o,ownerState:s})=>{const r=o.palette.mode==="light"?k:S,n=o.palette.mode==="light"?S:k,e=s.color||s.severity;return i({},o.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},e&&s.variant==="standard"&&{color:o.vars?o.vars.palette.Alert[`${e}Color`]:r(o.palette[e].light,.6),backgroundColor:o.vars?o.vars.palette.Alert[`${e}StandardBg`]:n(o.palette[e].light,.9),[`& .${N.icon}`]:o.vars?{color:o.vars.palette.Alert[`${e}IconColor`]}:{color:o.palette[e].main}},e&&s.variant==="outlined"&&{color:o.vars?o.vars.palette.Alert[`${e}Color`]:r(o.palette[e].light,.6),border:`1px solid ${(o.vars||o).palette[e].light}`,[`& .${N.icon}`]:o.vars?{color:o.vars.palette.Alert[`${e}IconColor`]}:{color:o.palette[e].main}},e&&s.variant==="filled"&&i({fontWeight:o.typography.fontWeightMedium},o.vars?{color:o.vars.palette.Alert[`${e}FilledColor`],backgroundColor:o.vars.palette.Alert[`${e}FilledBg`]}:{backgroundColor:o.palette.mode==="dark"?o.palette[e].dark:o.palette[e].main,color:o.palette.getContrastText(o.palette[e].main)}))}),bo=f("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(o,s)=>s.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),zo=f("div",{name:"MuiAlert",slot:"Message",overridesResolver:(o,s)=>s.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),T=f("div",{name:"MuiAlert",slot:"Action",overridesResolver:(o,s)=>s.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),O={success:t.jsx(fo,{fontSize:"inherit"}),warning:t.jsx(ho,{fontSize:"inherit"}),error:t.jsx(Co,{fontSize:"inherit"}),info:t.jsx(Ao,{fontSize:"inherit"})},Mo=j.forwardRef(function(s,r){var n,e,l,a,h,g;const d=D({props:s,name:"MuiAlert"}),{action:v,children:$,className:C,closeText:A="Close",color:V,components:z={},componentsProps:M={},icon:R,iconMapping:G=O,onClose:B,role:Z="alert",severity:b="success",slotProps:P={},slots:L={},variant:q="standard"}=d,J=H(d,Io),p=i({},d,{color:V,severity:b,variant:q}),x=jo(p),K=(n=(e=L.closeButton)!=null?e:z.CloseButton)!=null?n:mo,Q=(l=(a=L.closeIcon)!=null?a:z.CloseIcon)!=null?l:yo,X=(h=P.closeButton)!=null?h:M.closeButton,Y=(g=P.closeIcon)!=null?g:M.closeIcon;return t.jsxs($o,i({role:Z,elevation:0,ownerState:p,className:U(x.root,C),ref:r},J,{children:[R!==!1?t.jsx(bo,{ownerState:p,className:x.icon,children:R||G[b]||O[b]}):null,t.jsx(zo,{ownerState:p,className:x.message,children:$}),v!=null?t.jsx(T,{ownerState:p,className:x.action,children:v}):null,v==null&&B?t.jsx(T,{ownerState:p,className:x.action,children:t.jsx(K,i({size:"small","aria-label":A,title:A,color:"inherit",onClick:B},X,{children:t.jsx(Q,i({fontSize:"small"},Y))}))}):null]}))}),Ro=Mo,_o=()=>{const{id:o}=w(),{fetchData:s}=ro([],`/current-song?room_code=${o}`),[r,n]=j.useState("...loading"),e=(l,a)=>l===200?(console.log("song",a.song_name),t.jsxs("div",{children:[t.jsx(Ro,{severity:"error",children:"As per Spotify's latest API changes, music controllers are no longer granted access for non-premium accounts."}),t.jsxs(u,{container:!0,spacing:2,direction:"column",alignItems:"center",children:[t.jsxs(u,{item:!0,xs:12,sm:6,md:4,children:[t.jsx(y,{variant:"h4",className:I.mainText,children:"Room"}),t.jsxs(y,{className:I.mainText,children:["Room Code: ",o]})]}),t.jsx(to,{component:"img",src:a.cover_art_url,sx:{height:150,width:150}}),t.jsx(u,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(y,{variant:"h7",className:I.mainText,children:["Playing: ",a.song_name]})}),t.jsx(u,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(y,{variant:"h7",className:I.mainText,children:["Artist: ",a.artist_name]})})]})]})):l===204?t.jsx("div",{children:"No songs currently being played"}):t.jsx("div",{children:"...error"});return j.useEffect(()=>{(async()=>{const a=await s();n(e(a.status,a.data))})()},[]),t.jsx(t.Fragment,{children:t.jsxs(u,{container:!0,spacing:2,direction:"column",children:[r,t.jsx(u,{item:!0,xs:12,sm:6,md:4,children:t.jsx(ao,{variant:"contained",color:"primary",component:oo,to:so.HOME,children:"HOME"})})]})})};export{_o as default};
